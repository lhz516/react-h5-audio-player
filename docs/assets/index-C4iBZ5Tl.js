import{r as T,j as c}from"./iframe-DKmbwMFx.js";const ce=Object.freeze({left:0,top:0,width:16,height:16}),j=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Q=Object.freeze({...ce,...j}),$=Object.freeze({...Q,body:"",hidden:!1});function ke(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function ee(t,e){const n=ke(t,e);for(const r in $)r in j?r in t&&!(r in n)&&(n[r]=j[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function Ie(t,e){const n=t.icons,r=t.aliases||Object.create(null),o=Object.create(null);function s(i){if(n[i])return o[i]=[];if(!(i in o)){o[i]=null;const a=r[i]&&r[i].parent,u=a&&s(a);u&&(o[i]=[a].concat(u))}return o[i]}return Object.keys(n).concat(Object.keys(r)).forEach(s),o}function Re(t,e,n){const r=t.icons,o=t.aliases||Object.create(null);let s={};function i(a){s=ee(r[a]||o[a],s)}return i(e),n.forEach(i),ee(t,s)}function me(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(o=>{e(o,null),n.push(o)});const r=Ie(t);for(const o in r){const s=r[o];s&&(e(o,Re(t,o,s)),n.push(o))}return n}const Oe={provider:"",aliases:{},not_found:{},...ce};function B(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function pe(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!B(t,Oe))return null;const n=e.icons;for(const o in n){const s=n[o];if(!o||typeof s.body!="string"||!B(s,$))return null}const r=e.aliases||Object.create(null);for(const o in r){const s=r[o],i=s.parent;if(!o||typeof i!="string"||!n[i]&&!r[i]||!B(s,$))return null}return e}const he=/^[a-z0-9]+(-[a-z0-9]+)*$/,F=(t,e,n,r="")=>{const o=t.split(":");if(t.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;r=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const a=o.pop(),u=o.pop(),l={provider:o.length>0?o[0]:r,prefix:u,name:a};return e&&!q(l)?null:l}const s=o[0],i=s.split("-");if(i.length>1){const a={provider:r,prefix:i.shift(),name:i.join("-")};return e&&!q(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:s};return e&&!q(a,n)?null:a}return null},q=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,te=Object.create(null);function De(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function I(t,e){const n=te[t]||(te[t]=Object.create(null));return n[e]||(n[e]=De(t,e))}function fe(t,e){return pe(e)?me(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function _e(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let _=!1;function ge(t){return typeof t=="boolean"&&(_=t),_}function ne(t){const e=typeof t=="string"?F(t,!0,_):t;if(e){const n=I(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function Ne(t,e){const n=F(t,!0,_);if(!n)return!1;const r=I(n.provider,n.prefix);return e?_e(r,n.name,e):(r.missing.add(n.name),!0)}function qe(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),_&&!e&&!t.prefix){let o=!1;return pe(t)&&(t.prefix="",me(t,(s,i)=>{Ne(s,i)&&(o=!0)})),o}const n=t.prefix;if(!q({prefix:n,name:"a"}))return!1;const r=I(e,n);return!!fe(r,t)}const ve=Object.freeze({width:null,height:null}),ye=Object.freeze({...ve,...j}),Ve=/(-?[0-9.]*[0-9]+[0-9.]*)/g,je=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function re(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(Ve);if(r===null||!r.length)return t;const o=[];let s=r.shift(),i=je.test(s);for(;;){if(i){const a=parseFloat(s);isNaN(a)?o.push(s):o.push(Math.ceil(a*e*n)/n)}else o.push(s);if(s=r.shift(),s===void 0)return o.join("");i=!i}}function Ue(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const o=t.indexOf(">",r),s=t.indexOf("</"+e);if(o===-1||s===-1)break;const i=t.indexOf(">",s);if(i===-1)break;n+=t.slice(o+1,s).trim(),t=t.slice(0,r).trim()+t.slice(i+1)}return{defs:n,content:t}}function Fe(t,e){return t?"<defs>"+t+"</defs>"+e:e}function Be(t,e,n){const r=Ue(t);return Fe(r.defs,e+r.content+n)}const He=t=>t==="unset"||t==="undefined"||t==="none";function We(t,e){const n={...Q,...t},r={...ye,...e},o={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(w=>{const m=[],f=w.hFlip,P=w.vFlip;let A=w.rotate;f?P?A+=2:(m.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),m.push("scale(-1 1)"),o.top=o.left=0):P&&(m.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),m.push("scale(1 -1)"),o.top=o.left=0);let M;switch(A<0&&(A-=Math.floor(A/4)*4),A=A%4,A){case 1:M=o.height/2+o.top,m.unshift("rotate(90 "+M.toString()+" "+M.toString()+")");break;case 2:m.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:M=o.width/2+o.left,m.unshift("rotate(-90 "+M.toString()+" "+M.toString()+")");break}A%2===1&&(o.left!==o.top&&(M=o.left,o.left=o.top,o.top=M),o.width!==o.height&&(M=o.width,o.width=o.height,o.height=M)),m.length&&(s=Be(s,'<g transform="'+m.join(" ")+'">',"</g>"))});const i=r.width,a=r.height,u=o.width,l=o.height;let d,h;i===null?(h=a===null?"1em":a==="auto"?l:a,d=re(h,u/l)):(d=i==="auto"?u:i,h=a===null?re(d,l/u):a==="auto"?l:a);const g={},v=(w,m)=>{He(m)||(g[w]=m.toString())};v("width",d),v("height",h);const y=[o.left,o.top,u,l];return g.viewBox=y.join(" "),{attributes:g,viewBox:y,body:s}}const $e=/\sid="(\S+)"/g,Je="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let ze=0;function Ge(t,e=Je){const n=[];let r;for(;r=$e.exec(t);)n.push(r[1]);if(!n.length)return t;const o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const i=typeof e=="function"?e(s):e+(ze++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+i+o+"$3")}),t=t.replace(new RegExp(o,"g"),""),t}const J=Object.create(null);function Ke(t,e){J[t]=e}function z(t){return J[t]||J[""]}function X(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const Z=Object.create(null),R=["https://api.simplesvg.com","https://api.unisvg.com"],V=[];for(;R.length>0;)R.length===1||Math.random()>.5?V.push(R.shift()):V.push(R.pop());Z[""]=X({resources:["https://api.iconify.design"].concat(V)});function Qe(t,e){const n=X(e);return n===null?!1:(Z[t]=n,!0)}function Y(t){return Z[t]}const Xe=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let oe=Xe();function Ze(t,e){const n=Y(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let o=0;n.resources.forEach(i=>{o=Math.max(o,i.length)});const s=e+".json?icons=";r=n.maxURL-o-n.path.length-s.length}return r}function Ye(t){return t===404}const et=(t,e,n)=>{const r=[],o=Ze(t,e),s="icons";let i={type:s,provider:t,prefix:e,icons:[]},a=0;return n.forEach((u,l)=>{a+=u.length+1,a>=o&&l>0&&(r.push(i),i={type:s,provider:t,prefix:e,icons:[]},a=u.length),i.icons.push(u)}),r.push(i),r};function tt(t){if(typeof t=="string"){const e=Y(t);if(e)return e.path}return"/"}const nt=(t,e,n)=>{if(!oe){n("abort",424);return}let r=tt(e.provider);switch(e.type){case"icons":{const s=e.prefix,a=e.icons.join(","),u=new URLSearchParams({icons:a});r+=s+".json?"+u.toString();break}case"custom":{const s=e.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let o=503;oe(t+r).then(s=>{const i=s.status;if(i!==200){setTimeout(()=>{n(Ye(i)?"abort":"next",i)});return}return o=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",o)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",o)})},rt={prepare:et,send:nt};function ot(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((o,s)=>o.provider!==s.provider?o.provider.localeCompare(s.provider):o.prefix!==s.prefix?o.prefix.localeCompare(s.prefix):o.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return t.forEach(o=>{if(r.name===o.name&&r.prefix===o.prefix&&r.provider===o.provider)return;r=o;const s=o.provider,i=o.prefix,a=o.name,u=n[s]||(n[s]=Object.create(null)),l=u[i]||(u[i]=I(s,i));let d;a in l.icons?d=e.loaded:i===""||l.missing.has(a)?d=e.missing:d=e.pending;const h={provider:s,prefix:i,name:a};d.push(h)}),e}function Ee(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(o=>o.id!==e))})}function st(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,o=t.prefix;e.forEach(s=>{const i=s.icons,a=i.pending.length;i.pending=i.pending.filter(u=>{if(u.prefix!==o)return!0;const l=u.name;if(t.icons[l])i.loaded.push({provider:r,prefix:o,name:l});else if(t.missing.has(l))i.missing.push({provider:r,prefix:o,name:l});else return n=!0,!0;return!1}),i.pending.length!==a&&(n||Ee([t],s.id),s.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),s.abort))})}))}let it=0;function at(t,e,n){const r=it++,o=Ee.bind(null,n,r);if(!e.pending.length)return o;const s={id:r,icons:e,callback:t,abort:o};return n.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(s)}),o}function ut(t,e=!0,n=!1){const r=[];return t.forEach(o=>{const s=typeof o=="string"?F(o,e,n):o;s&&r.push(s)}),r}var lt={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function dt(t,e,n,r){const o=t.resources.length,s=t.random?Math.floor(Math.random()*o):t.index;let i;if(t.random){let p=t.resources.slice(0);for(i=[];p.length>1;){const E=Math.floor(Math.random()*p.length);i.push(p[E]),p=p.slice(0,E).concat(p.slice(E+1))}i=i.concat(p)}else i=t.resources.slice(s).concat(t.resources.slice(0,s));const a=Date.now();let u="pending",l=0,d,h=null,g=[],v=[];typeof r=="function"&&v.push(r);function y(){h&&(clearTimeout(h),h=null)}function w(){u==="pending"&&(u="aborted"),y(),g.forEach(p=>{p.status==="pending"&&(p.status="aborted")}),g=[]}function m(p,E){E&&(v=[]),typeof p=="function"&&v.push(p)}function f(){return{startTime:a,payload:e,status:u,queriesSent:l,queriesPending:g.length,subscribe:m,abort:w}}function P(){u="failed",v.forEach(p=>{p(void 0,d)})}function A(){g.forEach(p=>{p.status==="pending"&&(p.status="aborted")}),g=[]}function M(p,E,C){const N=E!=="success";switch(g=g.filter(x=>x!==p),u){case"pending":break;case"failed":if(N||!t.dataAfterTimeout)return;break;default:return}if(E==="abort"){d=C,P();return}if(N){d=C,g.length||(i.length?L():P());return}if(y(),A(),!t.random){const x=t.resources.indexOf(p.resource);x!==-1&&x!==t.index&&(t.index=x)}u="completed",v.forEach(x=>{x(C)})}function L(){if(u!=="pending")return;y();const p=i.shift();if(p===void 0){if(g.length){h=setTimeout(()=>{y(),u==="pending"&&(A(),P())},t.timeout);return}P();return}const E={status:"pending",resource:p,callback:(C,N)=>{M(E,C,N)}};g.push(E),l++,h=setTimeout(L,t.rotate),n(p,e,E.callback)}return setTimeout(L),f}function Te(t){const e={...lt,...t};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function o(a,u,l){const d=dt(e,a,u,(h,g)=>{r(),l&&l(h,g)});return n.push(d),d}function s(a){return n.find(u=>a(u))||null}return{query:o,find:s,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:r}}function se(){}const H=Object.create(null);function ct(t){if(!H[t]){const e=Y(t);if(!e)return;const n=Te(e),r={config:e,redundancy:n};H[t]=r}return H[t]}function mt(t,e,n){let r,o;if(typeof t=="string"){const s=z(t);if(!s)return n(void 0,424),se;o=s.send;const i=ct(t);i&&(r=i.redundancy)}else{const s=X(t);if(s){r=Te(s);const i=t.resources?t.resources[0]:"",a=z(i);a&&(o=a.send)}}return!r||!o?(n(void 0,424),se):r.query(e,o,n)().abort}function ie(){}function pt(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,st(t)}))}function ht(t){const e=[],n=[];return t.forEach(r=>{(r.match(he)?e:n).push(r)}),{valid:e,invalid:n}}function O(t,e,n){function r(){const o=t.pendingIcons;e.forEach(s=>{o&&o.delete(s),t.icons[s]||t.missing.add(s)})}if(n&&typeof n=="object")try{if(!fe(t,n).length){r();return}}catch(o){console.error(o)}r(),pt(t)}function ae(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function ft(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,o=t.iconsToLoad;if(delete t.iconsToLoad,!o||!o.length)return;const s=t.loadIcon;if(t.loadIcons&&(o.length>1||!s)){ae(t.loadIcons(o,r,n),d=>{O(t,o,d)});return}if(s){o.forEach(d=>{const h=s(d,r,n);ae(h,g=>{const v=g?{prefix:r,icons:{[d]:g}}:null;O(t,[d],v)})});return}const{valid:i,invalid:a}=ht(o);if(a.length&&O(t,a,null),!i.length)return;const u=r.match(he)?z(n):null;if(!u){O(t,i,null);return}u.prepare(n,r,i).forEach(d=>{mt(n,d,h=>{O(t,d.icons,h)})})}))}const gt=(t,e)=>{const n=ut(t,!0,ge()),r=ot(n);if(!r.pending.length){let u=!0;return e&&setTimeout(()=>{u&&e(r.loaded,r.missing,r.pending,ie)}),()=>{u=!1}}const o=Object.create(null),s=[];let i,a;return r.pending.forEach(u=>{const{provider:l,prefix:d}=u;if(d===a&&l===i)return;i=l,a=d,s.push(I(l,d));const h=o[l]||(o[l]=Object.create(null));h[d]||(h[d]=[])}),r.pending.forEach(u=>{const{provider:l,prefix:d,name:h}=u,g=I(l,d),v=g.pendingIcons||(g.pendingIcons=new Set);v.has(h)||(v.add(h),o[l][d].push(h))}),s.forEach(u=>{const l=o[u.provider][u.prefix];l.length&&ft(u,l)}),e?at(e,r,s):ie};function vt(t,e){const n={...t};for(const r in e){const o=e[r],s=typeof o;r in ve?(o===null||o&&(s==="string"||s==="number"))&&(n[r]=o):s===typeof n[r]&&(n[r]=r==="rotate"?o%4:o)}return n}const yt=/[\s,]+/;function Et(t,e){e.split(yt).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function Tt(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(o){for(;o<0;)o+=4;return o%4}if(n===""){const o=parseInt(t);return isNaN(o)?0:r(o)}else if(n!==t){let o=0;switch(n){case"%":o=25;break;case"deg":o=90}if(o){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/o,s%1===0?r(s):0)}}return e}function wt(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function bt(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Ct(t){return"data:image/svg+xml,"+bt(t)}function At(t){return'url("'+Ct(t)+'")'}let D;function Pt(){try{D=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{D=null}}function Mt(t){return D===void 0&&Pt(),D?D.createHTML(t):t}const we={...ye,inline:!1},Lt={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},St={display:"inline-block"},G={backgroundColor:"currentColor"},be={backgroundColor:"transparent"},ue={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},le={WebkitMask:G,mask:G,background:be};for(const t in le){const e=le[t];for(const n in ue)e[t+n]=ue[n]}const xt={...we,inline:!0};function de(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const kt=(t,e,n)=>{const r=e.inline?xt:we,o=vt(r,e),s=e.mode||"svg",i={},a=e.style||{},u={...s==="svg"?Lt:{}};if(n){const m=F(n,!1,!0);if(m){const f=["iconify"],P=["provider","prefix"];for(const A of P)m[A]&&f.push("iconify--"+m[A]);u.className=f.join(" ")}}for(let m in e){const f=e[m];if(f!==void 0)switch(m){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":u.ref=f;break;case"className":u[m]=(u[m]?u[m]+" ":"")+f;break;case"inline":case"hFlip":case"vFlip":o[m]=f===!0||f==="true"||f===1;break;case"flip":typeof f=="string"&&Et(o,f);break;case"color":i.color=f;break;case"rotate":typeof f=="string"?o[m]=Tt(f):typeof f=="number"&&(o[m]=f);break;case"ariaHidden":case"aria-hidden":f!==!0&&f!=="true"&&delete u["aria-hidden"];break;default:r[m]===void 0&&(u[m]=f)}}const l=We(t,o),d=l.attributes;if(o.inline&&(i.verticalAlign="-0.125em"),s==="svg"){u.style={...i,...a},Object.assign(u,d);let m=0,f=e.id;return typeof f=="string"&&(f=f.replace(/-/g,"_")),u.dangerouslySetInnerHTML={__html:Mt(Ge(l.body,f?()=>f+"ID"+m++:"iconifyReact"))},T.createElement("svg",u)}const{body:h,width:g,height:v}=t,y=s==="mask"||(s==="bg"?!1:h.indexOf("currentColor")!==-1),w=wt(h,{...d,width:g+"",height:v+""});return u.style={...i,"--svg":At(w),width:de(d.width),height:de(d.height),...St,...y?G:be,...a},T.createElement("span",u)};ge(!0);Ke("",rt);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!qe(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const o=e[n];if(typeof o!="object"||!o||o.resources===void 0)continue;Qe(n,o)||console.error(r)}catch{console.error(r)}}}}function Ce(t){const[e,n]=T.useState(!!t.ssr),[r,o]=T.useState({});function s(v){if(v){const y=t.icon;if(typeof y=="object")return{name:"",data:y};const w=ne(y);if(w)return{name:y,data:w}}return{name:""}}const[i,a]=T.useState(s(!!t.ssr));function u(){const v=r.callback;v&&(v(),o({}))}function l(v){if(JSON.stringify(i)!==JSON.stringify(v))return u(),a(v),!0}function d(){var v;const y=t.icon;if(typeof y=="object"){l({name:"",data:y});return}const w=ne(y);if(l({name:y,data:w}))if(w===void 0){const m=gt([y],d);o({callback:m})}else w&&((v=t.onLoad)===null||v===void 0||v.call(t,y))}T.useEffect(()=>(n(!0),u),[]),T.useEffect(()=>{e&&d()},[t.icon,e]);const{name:h,data:g}=i;return g?kt({...Q,...g},t,h):t.children?t.children:t.fallback?t.fallback:T.createElement("span",{})}const S=T.forwardRef((t,e)=>Ce({...t,_ref:e}));T.forwardRef((t,e)=>Ce({inline:!0,...t,_ref:e}));const It=t=>{switch(t){case"stacked":return"rhap_stacked";case"stacked-reverse":return"rhap_stacked-reverse";case"horizontal":return"rhap_horizontal";case"horizontal-reverse":return"rhap_horizontal-reverse";default:return"rhap_stacked"}},Ae=t=>t instanceof MouseEvent?t.clientX:t.touches[0].clientX,W=t=>t>9?t.toString():`0${t}`,k=(t,e,n)=>{if(!isFinite(t))return null;const r=Math.floor(t/60),o=W(r),s=W(Math.floor(t%60)),i=W(Math.floor(r%60)),a=Math.floor(r/60),u=`${o}:${s}`,l=`${a}:${i}:${s}`;if(n==="auto")return e>=3600?l:u;if(n==="mm:ss")return u;if(n==="hh:mm:ss")return l};function Pe(t,e){let n=!1;return r=>{n||(t(r),n=!0,setTimeout(()=>n=!1,e))}}class Me extends T.Component{audio;timeOnMouseMove=0;hasAddedAudioEventListener=!1;downloadProgressAnimationTimer;state={isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1};getDuration(){const{audio:e,srcDuration:n}=this.props;return typeof n>"u"?e.duration:n}getCurrentProgress=e=>{const{audio:n,progressBar:r}=this.props;if(n.src.indexOf("blob:")!==0&&typeof this.props.srcDuration>"u"&&(!n.src||!isFinite(n.currentTime)||!r.current))return{currentTime:0,currentTimePos:"0%"};const s=r.current.getBoundingClientRect(),i=s.width;let a=Ae(e)-s.left;return a<0?a=0:a>i&&(a=i),{currentTime:this.getDuration()*a/i,currentTimePos:`${(a/i*100).toFixed(2)}%`}};handleContextMenu=e=>{e.preventDefault()};handleMouseDownOrTouchStartProgressBar=e=>{e.stopPropagation();const{currentTime:n,currentTimePos:r}=this.getCurrentProgress(e.nativeEvent);isFinite(n)&&(this.timeOnMouseMove=n,this.setState({isDraggingProgress:!0,currentTimePos:r}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.addEventListener("touchend",this.handleWindowMouseOrTouchUp)))};handleWindowMouseOrTouchMove=e=>{e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();const n=window.getSelection();n&&n.type==="Range"&&n.empty();const{isDraggingProgress:r}=this.state;if(r){const{currentTime:o,currentTimePos:s}=this.getCurrentProgress(e);this.timeOnMouseMove=o,this.setState({currentTimePos:s})}};handleWindowMouseOrTouchUp=e=>{e.stopPropagation();const n=this.timeOnMouseMove,{audio:r,onChangeCurrentTimeError:o,onSeek:s}=this.props;if(s)this.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},()=>{s(r,n).then(()=>this.setState({waitingForSeekCallback:!1}),i=>{const a=i instanceof Error?i.message:String(i);throw new Error(a)})});else{const i={isDraggingProgress:!1};if(r.readyState===r.HAVE_NOTHING||r.readyState===r.HAVE_METADATA||!isFinite(n))try{r.load()}catch(a){return i.currentTimePos="0%",o&&o(a)}r.currentTime=n,this.setState(i)}e instanceof MouseEvent?(window.removeEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",this.handleWindowMouseOrTouchUp))};handleAudioTimeUpdate=Pe(e=>{const{isDraggingProgress:n}=this.state,r=e.target;if(n||this.state.waitingForSeekCallback===!0)return;const{currentTime:o}=r,s=this.getDuration();this.setState({currentTimePos:`${(o/s*100||0).toFixed(2)}%`})},this.props.progressUpdateInterval);handleAudioDownloadProgressUpdate=e=>{const n=e.target,r=this.getDuration(),o=[];for(let s=0;s<n.buffered.length;s++){const i=n.buffered.start(s),a=n.buffered.end(s);o.push({left:`${Math.round(100/r*i)||0}%`,width:`${Math.round(100/r*(a-i))||0}%`})}clearTimeout(this.downloadProgressAnimationTimer),this.setState({downloadProgressArr:o,hasDownloadProgressAnimation:!0}),this.downloadProgressAnimationTimer=setTimeout(()=>{this.setState({hasDownloadProgressAnimation:!1})},200)};initialize(){const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioTimeUpdate),e.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}componentDidMount(){this.initialize()}componentDidUpdate(){this.initialize()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}render(){const{showDownloadProgress:e,showFilledProgress:n,progressBar:r,i18nProgressBar:o}=this.props,{currentTimePos:s,downloadProgressArr:i,hasDownloadProgressAnimation:a}=this.state;return c.jsx("div",{className:"rhap_progress-container",ref:r,"aria-label":o,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(s.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu,children:c.jsxs("div",{className:`rhap_progress-bar ${e?"rhap_progress-bar-show-download":""}`,children:[c.jsx("div",{className:"rhap_progress-indicator",style:{left:s}}),n&&c.jsx("div",{className:"rhap_progress-filled",style:{width:s}}),e&&i.map(({left:u,width:l},d)=>c.jsx("div",{className:"rhap_download-progress",style:{left:u,width:l,transitionDuration:a?".2s":"0s"}},d))]})})}}const Le=(t,e)=>c.jsx(Me,{...t,progressBar:e}),Rt=T.forwardRef(Le);Me.__docgenInfo={description:"",methods:[{name:"getDuration",docblock:null,modifiers:[],params:[],returns:{type:{name:"number"}}},{name:"getCurrentProgress",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"union",raw:"MouseEvent | TouchEvent",elements:[{name:"MouseEvent"},{name:"TouchEvent"}]}}],returns:{type:{name:"TimePosInfo"}}},{name:"handleContextMenu",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"SyntheticEvent",alias:"SyntheticEvent"}}],returns:{type:{name:"void"}}},{name:"handleMouseDownOrTouchStartProgressBar",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"union",raw:"React.MouseEvent | React.TouchEvent",elements:[{name:"ReactMouseEvent",raw:"React.MouseEvent"},{name:"ReactTouchEvent",raw:"React.TouchEvent"}]}}],returns:{type:{name:"void"}}},{name:"handleWindowMouseOrTouchMove",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"union",raw:"TouchEvent | MouseEvent",elements:[{name:"TouchEvent"},{name:"MouseEvent"}]}}],returns:{type:{name:"void"}}},{name:"handleWindowMouseOrTouchUp",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"union",raw:"MouseEvent | TouchEvent",elements:[{name:"MouseEvent"},{name:"TouchEvent"}]}}],returns:{type:{name:"void"}}},{name:"handleAudioDownloadProgressUpdate",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}}],returns:{type:{name:"void"}}},{name:"initialize",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}}],displayName:"ProgressBar",props:{audio:{required:!0,tsType:{name:"HTMLAudioElement"},description:""},progressUpdateInterval:{required:!0,tsType:{name:"number"},description:""},showDownloadProgress:{required:!0,tsType:{name:"boolean"},description:""},showFilledProgress:{required:!0,tsType:{name:"boolean"},description:""},srcDuration:{required:!1,tsType:{name:"number"},description:""},onSeek:{required:!1,tsType:{name:"signature",type:"function",raw:"(audio: HTMLAudioElement, time: number) => Promise<void>",signature:{arguments:[{type:{name:"HTMLAudioElement"},name:"audio"},{type:{name:"number"},name:"time"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onChangeCurrentTimeError:{required:!1,tsType:{name:"signature",type:"function",raw:"(err: Error) => void",signature:{arguments:[{type:{name:"Error"},name:"err"}],return:{name:"void"}}},description:""},i18nProgressBar:{required:!0,tsType:{name:"string"},description:""},progressBar:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]},description:""}}};Le.__docgenInfo={description:"",methods:[],displayName:"ProgressBarForwardRef",props:{audio:{required:!0,tsType:{name:"HTMLAudioElement"},description:""},progressUpdateInterval:{required:!0,tsType:{name:"number"},description:""},showDownloadProgress:{required:!0,tsType:{name:"boolean"},description:""},showFilledProgress:{required:!0,tsType:{name:"boolean"},description:""},srcDuration:{required:!1,tsType:{name:"number"},description:""},onSeek:{required:!1,tsType:{name:"signature",type:"function",raw:"(audio: HTMLAudioElement, time: number) => Promise<void>",signature:{arguments:[{type:{name:"HTMLAudioElement"},name:"audio"},{type:{name:"number"},name:"time"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onChangeCurrentTimeError:{required:!1,tsType:{name:"signature",type:"function",raw:"(err: Error) => void",signature:{arguments:[{type:{name:"Error"},name:"err"}],return:{name:"void"}}},description:""},i18nProgressBar:{required:!0,tsType:{name:"string"},description:""}}};class K extends T.PureComponent{audio;hasAddedAudioEventListener=!1;constructor(e){super(e);const{audio:n,defaultCurrentTime:r,isLeftTime:o,timeFormat:s}=e;let i=r;n&&(i=k(o?n.duration-n.currentTime:n.currentTime,n.duration,s)),this.state={currentTime:i}}state={currentTime:this.props.defaultCurrentTime};handleAudioCurrentTimeChange=e=>{const n=e.target,{isLeftTime:r,timeFormat:o,defaultCurrentTime:s}=this.props;this.setState({currentTime:k(r?n.duration-n.currentTime:n.currentTime,n.duration,o)||s})};addAudioEventListeners=()=>{const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioCurrentTimeChange),e.addEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))};componentDidMount(){this.addAudioEventListeners()}componentDidUpdate(){this.addAudioEventListeners()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioCurrentTimeChange),this.audio.removeEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))}render(){return this.state.currentTime}}K.__docgenInfo={description:"",methods:[{name:"handleAudioCurrentTimeChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}}],returns:{type:{name:"void"}}},{name:"addAudioEventListeners",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}}],displayName:"CurrentTime",props:{audio:{required:!1,tsType:{name:"HTMLAudioElement"},description:""},defaultCurrentTime:{required:!0,tsType:{name:"ReactNode"},description:""},isLeftTime:{required:!0,tsType:{name:"boolean"},description:""},timeFormat:{required:!0,tsType:{name:"union",raw:"'auto' | 'mm:ss' | 'hh:mm:ss'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'mm:ss'"},{name:"literal",value:"'hh:mm:ss'"}]},description:""}}};class Se extends T.PureComponent{audio;hasAddedAudioEventListener=!1;constructor(e){super(e);const{audio:n,timeFormat:r,defaultDuration:o}=e;this.state={duration:n?k(n.duration,n.duration,r):o}}state={duration:this.props.audio?k(this.props.audio.duration,this.props.audio.duration,this.props.timeFormat):this.props.defaultDuration};handleAudioDurationChange=e=>{const n=e.target,{timeFormat:r,defaultDuration:o}=this.props;this.setState({duration:k(n.duration,n.duration,r)||o})};addAudioEventListeners=()=>{const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("durationchange",this.handleAudioDurationChange),e.addEventListener("abort",this.handleAudioDurationChange))};componentDidMount(){this.addAudioEventListeners()}componentDidUpdate(){this.addAudioEventListeners()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("durationchange",this.handleAudioDurationChange),this.audio.removeEventListener("abort",this.handleAudioDurationChange))}render(){return this.state.duration}}Se.__docgenInfo={description:"",methods:[{name:"handleAudioDurationChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}}],returns:{type:{name:"void"}}},{name:"addAudioEventListeners",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}}],displayName:"Duration",props:{audio:{required:!1,tsType:{name:"HTMLAudioElement"},description:""},defaultDuration:{required:!0,tsType:{name:"ReactNode"},description:""},timeFormat:{required:!0,tsType:{name:"union",raw:"'auto' | 'mm:ss' | 'hh:mm:ss'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'mm:ss'"},{name:"literal",value:"'hh:mm:ss'"}]},description:""}}};class xe extends T.Component{audio;hasAddedAudioEventListener=!1;volumeBar=T.createRef();volumeAnimationTimer=0;lastVolume=this.props.volume;state={currentVolumePos:`${(this.lastVolume/1*100||0).toFixed(2)}%`,hasVolumeAnimation:!1,isDraggingVolume:!1};getCurrentVolume=e=>{const{audio:n}=this.props;if(!this.volumeBar.current)return{currentVolume:n.volume,currentVolumePos:this.state.currentVolumePos};const r=this.volumeBar.current.getBoundingClientRect(),o=r.width,s=Ae(e)-r.left;let i,a;return s<0?(i=0,a="0%"):s>r.width?(i=1,a="100%"):(i=s/o,a=`${s/o*100}%`),{currentVolume:i,currentVolumePos:a}};handleContextMenu=e=>{e.preventDefault()};handleClickVolumeButton=()=>{const{audio:e}=this.props;e.volume>0?(this.lastVolume=e.volume,e.volume=0):e.volume=this.lastVolume};handleVolumnControlMouseOrTouchDown=e=>{e.stopPropagation();const{audio:n}=this.props,{currentVolume:r,currentVolumePos:o}=this.getCurrentVolume(e.nativeEvent);n.volume=r,this.setState({isDraggingVolume:!0,currentVolumePos:o}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.addEventListener("touchend",this.handleWindowMouseOrTouchUp))};handleWindowMouseOrTouchMove=e=>{e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();const{audio:n}=this.props,r=window.getSelection();r&&r.type==="Range"&&r.empty();const{isDraggingVolume:o}=this.state;if(o){const{currentVolume:s,currentVolumePos:i}=this.getCurrentVolume(e);n.volume=s,this.setState({currentVolumePos:i})}};handleWindowMouseOrTouchUp=e=>{e.stopPropagation(),this.setState({isDraggingVolume:!1}),e instanceof MouseEvent?(window.removeEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",this.handleWindowMouseOrTouchUp))};handleAudioVolumeChange=e=>{const{isDraggingVolume:n}=this.state,{volume:r}=e.target;(this.lastVolume>0&&r===0||this.lastVolume===0&&r>0)&&this.props.onMuteChange(),this.lastVolume=r,!n&&(this.setState({hasVolumeAnimation:!0,currentVolumePos:`${(r/1*100||0).toFixed(2)}%`}),clearTimeout(this.volumeAnimationTimer),this.volumeAnimationTimer=setTimeout(()=>{this.setState({hasVolumeAnimation:!1})},100))};componentDidUpdate(){const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("volumechange",this.handleAudioVolumeChange))}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener("volumechange",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}render(){const{audio:e,showFilledVolume:n,i18nVolumeControl:r}=this.props,{currentVolumePos:o,hasVolumeAnimation:s}=this.state,{volume:i}=e||{};return c.jsx("div",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:"progressbar","aria-label":r,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number((i*100).toFixed(0)),tabIndex:0,className:"rhap_volume-bar-area",children:c.jsxs("div",{className:"rhap_volume-bar",children:[c.jsx("div",{className:"rhap_volume-indicator",style:{left:o,transitionDuration:s?".1s":"0s"}}),n&&c.jsx("div",{className:"rhap_volume-filled",style:{width:o}})]})})}}xe.__docgenInfo={description:"",methods:[{name:"getCurrentVolume",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"union",raw:"TouchEvent | MouseEvent",elements:[{name:"TouchEvent"},{name:"MouseEvent"}]}}],returns:{type:{name:"VolumePosInfo"}}},{name:"handleContextMenu",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"SyntheticEvent",alias:"SyntheticEvent"}}],returns:{type:{name:"void"}}},{name:"handleClickVolumeButton",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}},{name:"handleVolumnControlMouseOrTouchDown",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"union",raw:"React.MouseEvent | React.TouchEvent",elements:[{name:"ReactMouseEvent",raw:"React.MouseEvent"},{name:"ReactTouchEvent",raw:"React.TouchEvent"}]}}],returns:{type:{name:"void"}}},{name:"handleWindowMouseOrTouchMove",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"union",raw:"TouchEvent | MouseEvent",elements:[{name:"TouchEvent"},{name:"MouseEvent"}]}}],returns:{type:{name:"void"}}},{name:"handleWindowMouseOrTouchUp",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"union",raw:"MouseEvent | TouchEvent",elements:[{name:"MouseEvent"},{name:"TouchEvent"}]}}],returns:{type:{name:"void"}}},{name:"handleAudioVolumeChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}}],returns:{type:{name:"void"}}}],displayName:"VolumeControls",props:{audio:{required:!0,tsType:{name:"HTMLAudioElement"},description:""},volume:{required:!0,tsType:{name:"number"},description:""},onMuteChange:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},showFilledVolume:{required:!0,tsType:{name:"boolean"},description:""},i18nVolumeControl:{required:!0,tsType:{name:"string"},description:""}}};var b=(t=>(t.CURRENT_TIME="CURRENT_TIME",t.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",t.PROGRESS_BAR="PROGRESS_BAR",t.DURATION="DURATION",t.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",t.MAIN_CONTROLS="MAIN_CONTROLS",t.VOLUME_CONTROLS="VOLUME_CONTROLS",t.LOOP="LOOP",t.VOLUME="VOLUME",t))(b||{});class U extends T.Component{static defaultI18nAriaLabels={player:"Audio player",progressControl:"Audio progress control",volumeControl:"Volume control",play:"Play",pause:"Pause",rewind:"Rewind",forward:"Forward",previous:"Previous",next:"Skip",loop:"Disable loop",loopOff:"Enable loop",volume:"Mute",volumeMute:"Unmute"};static defaultProps={progressJumpSteps:{backward:5e3,forward:5e3},progressJumpStep:5e3};audio=T.createRef();progressBar=T.createRef();container=T.createRef();lastVolume=this.props.volume??1;listenTracker;volumeAnimationTimer;downloadProgressAnimationTimer;togglePlay=e=>{e.stopPropagation();const n=this.audio.current;(n.paused||n.ended)&&n.src?this.playAudioPromise():n.paused||n.pause()};playAudioPromise=()=>{this.audio.current.error&&this.audio.current.load();const e=this.audio.current.play();e?e.then(null).catch(n=>{const{onPlayError:r}=this.props,o=n instanceof Error?n.message:String(n);r&&r(new Error(o))}):this.forceUpdate()};isPlaying=()=>{const e=this.audio.current;return e?!e.paused&&!e.ended:!1};handlePlay=e=>{this.forceUpdate(),this.props.onPlay&&this.props.onPlay(e)};handlePause=e=>{this.audio&&(this.forceUpdate(),this.props.onPause&&this.props.onPause(e))};handleEnded=e=>{this.audio&&(this.forceUpdate(),this.props.onEnded&&this.props.onEnded(e))};handleAbort=e=>{this.props.onAbort&&this.props.onAbort(e)};handleClickVolumeButton=()=>{const e=this.audio.current;e.volume>0?(this.lastVolume=e.volume,e.volume=0):e.volume=this.lastVolume};handleMuteChange=()=>{this.forceUpdate()};handleClickLoopButton=()=>{this.audio.current.loop=!this.audio.current.loop,this.forceUpdate()};handleClickRewind=()=>{const{progressJumpSteps:e,progressJumpStep:n}=this.props,r=e.backward||n;this.setJumpTime(-r)};handleClickForward=()=>{const{progressJumpSteps:e,progressJumpStep:n}=this.props,r=e.forward||n;this.setJumpTime(r)};setJumpTime=e=>{const n=this.audio.current,{duration:r,currentTime:o}=n;if(n.readyState===n.HAVE_NOTHING||n.readyState===n.HAVE_METADATA||!isFinite(r)||!isFinite(o))try{n.load()}catch(i){return this.props.onChangeCurrentTimeError&&this.props.onChangeCurrentTimeError(i)}let s=o+e/1e3;s<0?(n.currentTime=0,s=0):s>r?(n.currentTime=r,s=r):n.currentTime=s};setJumpVolume=e=>{let n=this.audio.current.volume+e;n<0?n=0:n>1&&(n=1),this.audio.current.volume=n};handleKeyDown=e=>{if(this.props.hasDefaultKeyBindings??!0)switch(e.key){case" ":(e.target===this.container.current||e.target===this.progressBar.current)&&(e.preventDefault(),this.togglePlay(e));break;case"ArrowLeft":this.handleClickRewind();break;case"ArrowRight":this.handleClickForward();break;case"ArrowUp":e.preventDefault(),this.setJumpVolume(this.props.volumeJumpStep);break;case"ArrowDown":e.preventDefault(),this.setJumpVolume(-this.props.volumeJumpStep);break;case"l":this.handleClickLoopButton();break;case"m":this.handleClickVolumeButton();break}};renderUIModules=e=>e.map((n,r)=>this.renderUIModule(n,r));renderUIModule=(e,n)=>{const{defaultCurrentTime:r="--:--",progressUpdateInterval:o=20,showDownloadProgress:s=!0,showFilledProgress:i=!0,showFilledVolume:a=!1,defaultDuration:u="--:--",customIcons:l={},showSkipControls:d=!1,onClickPrevious:h,onClickNext:g,onChangeCurrentTimeError:v,showJumpControls:y=!0,customAdditionalControls:w=[b.LOOP],customVolumeControls:m=[b.VOLUME],muted:f=!1,timeFormat:P="auto",volume:A=1,loop:M=!1,mse:L,i18nAriaLabels:p=U.defaultI18nAriaLabels}=this.props;switch(e){case b.CURRENT_TIME:return c.jsx("div",{id:"rhap_current-time",className:"rhap_time rhap_current-time",children:c.jsx(K,{audio:this.audio.current,isLeftTime:!1,defaultCurrentTime:r,timeFormat:P})},n);case b.CURRENT_LEFT_TIME:return c.jsx("div",{id:"rhap_current-left-time",className:"rhap_time rhap_current-left-time",children:c.jsx(K,{audio:this.audio.current,isLeftTime:!0,defaultCurrentTime:r,timeFormat:P})},n);case b.PROGRESS_BAR:return c.jsx(Rt,{ref:this.progressBar,audio:this.audio.current,progressUpdateInterval:o,showDownloadProgress:s,showFilledProgress:i,onSeek:L&&L.onSeek,onChangeCurrentTimeError:v,srcDuration:L&&L.srcDuration,i18nProgressBar:p.progressControl},n);case b.DURATION:return c.jsx("div",{className:"rhap_time rhap_total-time",children:L&&L.srcDuration?k(L.srcDuration,L.srcDuration,this.props.timeFormat):c.jsx(Se,{audio:this.audio.current,defaultDuration:u,timeFormat:P})},n);case b.ADDITIONAL_CONTROLS:return c.jsx("div",{className:"rhap_additional-controls",children:this.renderUIModules(w)},n);case b.MAIN_CONTROLS:{const E=this.isPlaying();let C;return E?C=l.pause?l.pause:c.jsx(S,{icon:"mdi:pause-circle"}):C=l.play?l.play:c.jsx(S,{icon:"mdi:play-circle"}),c.jsxs("div",{className:"rhap_main-controls",children:[d&&c.jsx("button",{"aria-label":p.previous,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:h,children:l.previous?l.previous:c.jsx(S,{icon:"mdi:skip-previous"})}),y&&c.jsx("button",{"aria-label":p.rewind,className:"rhap_button-clear rhap_main-controls-button rhap_rewind-button",type:"button",onClick:this.handleClickRewind,children:l.rewind?l.rewind:c.jsx(S,{icon:"mdi:rewind"})}),c.jsx("button",{"aria-label":E?p.pause:p.play,className:"rhap_button-clear rhap_main-controls-button rhap_play-pause-button",type:"button",onClick:this.togglePlay,children:C}),y&&c.jsx("button",{"aria-label":p.forward,className:"rhap_button-clear rhap_main-controls-button rhap_forward-button",type:"button",onClick:this.handleClickForward,children:l.forward?l.forward:c.jsx(S,{icon:"mdi:fast-forward"})}),d&&c.jsx("button",{"aria-label":p.next,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:g,children:l.next?l.next:c.jsx(S,{icon:"mdi:skip-next"})})]},n)}case b.VOLUME_CONTROLS:return c.jsx("div",{className:"rhap_volume-controls",children:this.renderUIModules(m)},n);case b.LOOP:{const E=this.audio.current?this.audio.current.loop:M;let C;return E?C=l.loop?l.loop:c.jsx(S,{icon:"mdi:repeat"}):C=l.loopOff?l.loopOff:c.jsx(S,{icon:"mdi:repeat-off"}),c.jsx("button",{"aria-label":E?p.loop:p.loopOff,className:"rhap_button-clear rhap_repeat-button",type:"button",onClick:this.handleClickLoopButton,children:C},n)}case b.VOLUME:{const{volume:E=f?0:A}=this.audio.current||{};let C;return E?C=l.volume?l.volume:c.jsx(S,{icon:"mdi:volume-high"}):C=l.volume?l.volumeMute:c.jsx(S,{icon:"mdi:volume-mute"}),c.jsxs("div",{className:"rhap_volume-container",children:[c.jsx("button",{"aria-label":E?p.volume:p.volumeMute,onClick:this.handleClickVolumeButton,type:"button",className:"rhap_button-clear rhap_volume-button",children:C}),c.jsx(xe,{audio:this.audio.current,volume:E,onMuteChange:this.handleMuteChange,showFilledVolume:a,i18nVolumeControl:p.volumeControl})]},n)}default:return T.isValidElement(e)?e.key?e:T.cloneElement(e,{key:n}):null}};componentDidMount(){this.forceUpdate();const e=this.audio.current;this.props.muted?e.volume=0:e.volume=this.lastVolume,e.addEventListener("error",n=>{const r=n.target;if(r.error&&r.currentTime===r.duration)return this.props.onEnded&&this.props.onEnded(n);this.props.onError&&this.props.onError(n)}),e.addEventListener("canplay",n=>{this.props.onCanPlay&&this.props.onCanPlay(n)}),e.addEventListener("canplaythrough",n=>{this.props.onCanPlayThrough&&this.props.onCanPlayThrough(n)}),e.addEventListener("play",this.handlePlay),e.addEventListener("abort",this.handleAbort),e.addEventListener("ended",this.handleEnded),e.addEventListener("playing",n=>{this.props.onPlaying&&this.props.onPlaying(n)}),e.addEventListener("seeking",n=>{this.props.onSeeking&&this.props.onSeeking(n)}),e.addEventListener("seeked",n=>{this.props.onSeeked&&this.props.onSeeked(n)}),e.addEventListener("waiting",n=>{this.props.onWaiting&&this.props.onWaiting(n)}),e.addEventListener("emptied",n=>{this.props.onEmptied&&this.props.onEmptied(n)}),e.addEventListener("stalled",n=>{this.props.onStalled&&this.props.onStalled(n)}),e.addEventListener("suspend",n=>{this.props.onSuspend&&this.props.onSuspend(n)}),e.addEventListener("loadstart",n=>{this.props.onLoadStart&&this.props.onLoadStart(n)}),e.addEventListener("loadedmetadata",n=>{this.props.onLoadedMetaData&&this.props.onLoadedMetaData(n)}),e.addEventListener("loadeddata",n=>{this.props.onLoadedData&&this.props.onLoadedData(n)}),e.addEventListener("pause",this.handlePause),e.addEventListener("timeupdate",Pe(n=>{this.props.onListen&&this.props.onListen(n)},this.props.listenInterval)),e.addEventListener("volumechange",n=>{this.props.onVolumeChange&&this.props.onVolumeChange(n)}),e.addEventListener("encrypted",n=>{const{mse:r}=this.props;r&&r.onEcrypted&&r.onEcrypted(n)})}componentDidUpdate(e){const{src:n,autoPlayAfterSrcChange:r}=this.props;e.src!==n&&(r?this.playAudioPromise():this.forceUpdate())}render(){const{className:e="",src:n,loop:r=!1,preload:o="auto",autoPlay:s=!1,crossOrigin:i,mediaGroup:a,header:u,footer:l,layout:d="stacked",customProgressBarSection:h=[b.CURRENT_TIME,b.PROGRESS_BAR,b.DURATION],customControlsSection:g=[b.ADDITIONAL_CONTROLS,b.MAIN_CONTROLS,b.VOLUME_CONTROLS],children:v,style:y,i18nAriaLabels:w=U.defaultI18nAriaLabels}=this.props,m=this.audio.current?this.audio.current.loop:r,f=m?"rhap_loop--on":"rhap_loop--off",P=this.isPlaying()?"rhap_play-status--playing":"rhap_play-status--paused";return c.jsxs("div",{role:"group",tabIndex:0,"aria-label":w.player,className:`rhap_container ${f} ${P} ${e}`,onKeyDown:this.handleKeyDown,ref:this.container,style:y,children:[c.jsx("audio",{src:n,controls:!1,loop:m,autoPlay:s,preload:o,crossOrigin:i,mediaGroup:a,ref:this.audio,children:v}),u&&c.jsx("div",{className:"rhap_header",children:u}),c.jsxs("div",{className:`rhap_main ${It(d)}`,children:[c.jsx("div",{className:"rhap_progress-section",children:this.renderUIModules(h)}),c.jsx("div",{className:"rhap_controls-section",children:this.renderUIModules(g)})]}),l&&c.jsx("div",{className:"rhap_footer",children:l})]})}}U.__docgenInfo={description:"",methods:[{name:"togglePlay",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent",alias:"React.SyntheticEvent"}}],returns:{type:{name:"void"}}},{name:"playAudioPromise",docblock:`Safely play audio

Reference: https://developers.google.com/web/updates/2017/06/play-request-was-interrupted`,modifiers:[],params:[],returns:{type:{name:"void"}},description:`Safely play audio

Reference: https://developers.google.com/web/updates/2017/06/play-request-was-interrupted`},{name:"isPlaying",docblock:null,modifiers:[],params:[],returns:{type:{name:"boolean"}}},{name:"handlePlay",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}}],returns:{type:{name:"void"}}},{name:"handlePause",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}}],returns:{type:{name:"void"}}},{name:"handleEnded",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}}],returns:{type:{name:"void"}}},{name:"handleAbort",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}}],returns:{type:{name:"void"}}},{name:"handleClickVolumeButton",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}},{name:"handleMuteChange",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}},{name:"handleClickLoopButton",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}},{name:"handleClickRewind",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}},{name:"handleClickForward",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}},{name:"setJumpTime",docblock:null,modifiers:[],params:[{name:"time",optional:!1,type:{name:"number"}}],returns:{type:{name:"void"}}},{name:"setJumpVolume",docblock:null,modifiers:[],params:[{name:"volume",optional:!1,type:{name:"number"}}],returns:{type:{name:"void"}}},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent",alias:"React.KeyboardEvent"}}],returns:{type:{name:"void"}}},{name:"renderUIModules",docblock:null,modifiers:[],params:[{name:"modules",optional:!1,type:{name:"Array",elements:[{name:"union",raw:"RHAP_UI | ReactElement",elements:[{name:"RHAP_UI"},{name:"ReactElement"}]}],raw:"Array<CustomUIModule>",alias:"CustomUIModules"}}],returns:{type:{name:"Array",elements:[{name:"ReactElement"}],raw:"Array<ReactElement>"}}},{name:"renderUIModule",docblock:null,modifiers:[],params:[{name:"comp",optional:!1,type:{name:"union",raw:"RHAP_UI | ReactElement",elements:[{name:"RHAP_UI"},{name:"ReactElement"}],alias:"CustomUIModule"}},{name:"key",optional:!1,type:{name:"Key",alias:"Key"}}],returns:{type:{name:"ReactElement"}}}],displayName:"H5AudioPlayer",props:{autoPlay:{required:!1,tsType:{name:"boolean"},description:"HTML5 Audio tag autoPlay property"},autoPlayAfterSrcChange:{required:!1,tsType:{name:"boolean"},description:"Whether to play audio after src prop is changed"},className:{required:!1,tsType:{name:"string"},description:"custom classNames"},listenInterval:{required:!1,tsType:{name:"number"},description:"The time interval to trigger onListen"},progressJumpStep:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5_000",computed:!1}},progressJumpSteps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  backward?: number
  forward?: number
}`,signature:{properties:[{key:"backward",value:{name:"number",required:!1}},{key:"forward",value:{name:"number",required:!1}}]}},description:"",defaultValue:{value:`{
  backward: 5_000,
  forward: 5_000,
}`,computed:!1}},volumeJumpStep:{required:!1,tsType:{name:"number"},description:""},loop:{required:!1,tsType:{name:"boolean"},description:""},muted:{required:!1,tsType:{name:"boolean"},description:""},crossOrigin:{required:!1,tsType:{name:"ReactAudioHTMLAttributes['crossOrigin']",raw:"React.AudioHTMLAttributes<HTMLAudioElement>['crossOrigin']"},description:""},mediaGroup:{required:!1,tsType:{name:"string"},description:""},hasDefaultKeyBindings:{required:!1,tsType:{name:"boolean"},description:""},onAbort:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onCanPlay:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onCanPlayThrough:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onEnded:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onPlaying:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onSeeking:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onSeeked:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onStalled:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onSuspend:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onLoadStart:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onLoadedMetaData:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onLoadedData:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onWaiting:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onEmptied:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onError:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onListen:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onVolumeChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onPause:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onPlay:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: Event) => void",signature:{arguments:[{type:{name:"Event"},name:"e"}],return:{name:"void"}}},description:""},onClickPrevious:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"e"}],return:{name:"void"}}},description:""},onClickNext:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"e"}],return:{name:"void"}}},description:""},onPlayError:{required:!1,tsType:{name:"signature",type:"function",raw:"(err: Error) => void",signature:{arguments:[{type:{name:"Error"},name:"err"}],return:{name:"void"}}},description:""},onChangeCurrentTimeError:{required:!1,tsType:{name:"signature",type:"function",raw:"(err: Error) => void",signature:{arguments:[{type:{name:"Error"},name:"err"}],return:{name:"void"}}},description:""},mse:{required:!1,tsType:{name:"MSEPropsObject"},description:""},preload:{required:!1,tsType:{name:"union",raw:"'auto' | 'metadata' | 'none'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'metadata'"},{name:"literal",value:"'none'"}]},description:"HTML5 Audio tag preload property"},progressUpdateInterval:{required:!1,tsType:{name:"number"},description:"Pregress indicator refresh interval"},src:{required:!1,tsType:{name:"string"},description:"HTML5 Audio tag src property"},defaultCurrentTime:{required:!1,tsType:{name:"ReactNode"},description:""},defaultDuration:{required:!1,tsType:{name:"ReactNode"},description:""},volume:{required:!1,tsType:{name:"number"},description:""},showJumpControls:{required:!1,tsType:{name:"boolean"},description:""},showSkipControls:{required:!1,tsType:{name:"boolean"},description:""},showDownloadProgress:{required:!1,tsType:{name:"boolean"},description:""},showFilledProgress:{required:!1,tsType:{name:"boolean"},description:""},showFilledVolume:{required:!1,tsType:{name:"boolean"},description:""},timeFormat:{required:!1,tsType:{name:"union",raw:"'auto' | 'mm:ss' | 'hh:mm:ss'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'mm:ss'"},{name:"literal",value:"'hh:mm:ss'"}]},description:""},header:{required:!1,tsType:{name:"ReactNode"},description:""},footer:{required:!1,tsType:{name:"ReactNode"},description:""},customIcons:{required:!1,tsType:{name:"CustomIcons"},description:""},layout:{required:!1,tsType:{name:"union",raw:"'stacked' | 'stacked-reverse' | 'horizontal' | 'horizontal-reverse'",elements:[{name:"literal",value:"'stacked'"},{name:"literal",value:"'stacked-reverse'"},{name:"literal",value:"'horizontal'"},{name:"literal",value:"'horizontal-reverse'"}]},description:""},customProgressBarSection:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"RHAP_UI | ReactElement",elements:[{name:"RHAP_UI"},{name:"ReactElement"}]}],raw:"Array<CustomUIModule>"},description:""},customControlsSection:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"RHAP_UI | ReactElement",elements:[{name:"RHAP_UI"},{name:"ReactElement"}]}],raw:"Array<CustomUIModule>"},description:""},customAdditionalControls:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"RHAP_UI | ReactElement",elements:[{name:"RHAP_UI"},{name:"ReactElement"}]}],raw:"Array<CustomUIModule>"},description:""},customVolumeControls:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"RHAP_UI | ReactElement",elements:[{name:"RHAP_UI"},{name:"ReactElement"}]}],raw:"Array<CustomUIModule>"},description:""},i18nAriaLabels:{required:!1,tsType:{name:"I18nAriaLabels"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""}}};export{U as H,b as R};
